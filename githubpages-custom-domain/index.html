<!DOCTYPE html>
<html data-html-server-rendered="true" lang="ko" data-vue-tag="%7B%22lang%22:%7B%22ssr%22:%22ko%22%7D%7D">
  <head>
    <title>CNAME을 활용해서 GitHub Pages에 커스텀 도메인 고정 시키기 | Sapjil</title><meta name="gridsome:hash" content="a1af81814c517f1fe808b0b481e3bc381ba9d904"><meta data-vue-tag="ssr" charset="utf-8"><meta data-vue-tag="ssr" name="generator" content="Gridsome v0.7.12"><meta data-vue-tag="ssr" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"><meta data-vue-tag="ssr" data-key="format-detection" name="format-detection" content="telephone=no"><meta data-vue-tag="ssr" data-key="description" name="description" content="웹 사이트 제작 시 삽질을 줄일 수 있는 정보를 공유하고자 합니다."><link data-vue-tag="ssr" rel="icon" href="data:,"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.d869f5a4ea864492f95b75096888949b.png"><link data-vue-tag="ssr" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.d869f5a4ea864492f95b75096888949b.png"><link rel="preload" href="/assets/css/0.styles.550f0047.css" as="style"><link rel="preload" href="/assets/js/app.356e4b7f.js" as="script"><link rel="preload" href="/assets/js/page--src--templates--post-vue.a07dc05b.js" as="script"><link rel="prefetch" href="/assets/js/page--src--pages--404-vue.a3d98fc3.js"><link rel="prefetch" href="/assets/js/page--src--pages--about-vue.d4e20867.js"><link rel="prefetch" href="/assets/js/page--src--pages--archives-vue.d24e8f7c.js"><link rel="prefetch" href="/assets/js/page--src--pages--index-vue.600f7dc7.js"><link rel="stylesheet" href="/assets/css/0.styles.550f0047.css"><script data-vue-tag="ssr" type="text/javascript" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js" async></script><script data-vue-tag="ssr" type="text/javascript" src="https://browser.sentry-cdn.com/5.12.1/bundle.min.js" integrity="sha384-y+an4eARFKvjzOivf/Z7JtMJhaN6b+lLQ5oFbBbUwZNNVir39cYtkjW1r6Xjbxg3" crossorigin="anonymous"></script><noscript data-vue-tag="ssr"><style>.g-image--loading{display:none;}</style></noscript>
  </head>
  <body >
    <div data-server-rendered="true" id="app"><div class="layout"><header class="header"><div class="logo"><img src="/images/logo.png" alt></div><small>웹 사이트 제작 시 삽질을 줄일 수 있는 정보를 공유하고자 합니다.</small><div class="header__innerbox"><strong><h1><a href="/" class="active">Sapjil</a></h1></strong><nav class="nav"><a href="/about/" class="nav__link">About</a> | 
    <a href="/archives/" class="nav__link">Archives</a></nav></div></header><main><div class="post-outer"><div class="post-title"><h1>CNAME을 활용해서 GitHub Pages에 커스텀 도메인 고정 시키기</h1><p class="post-date"> 2020/01/21 | 2 min read</p></div><div class="post-content"><section><p><img src="https://live.staticflickr.com/65535/49421742256_d2f522cfd7_c.jpg" alt="GitHub Pages + Custom Domain"></p>
<h2 id="배포할-때마다-도메인을-다시-잡아-줘야-한다면"><a href="#%EB%B0%B0%ED%8F%AC%ED%95%A0-%EB%95%8C%EB%A7%88%EB%8B%A4-%EB%8F%84%EB%A9%94%EC%9D%B8%EC%9D%84-%EB%8B%A4%EC%8B%9C-%EC%9E%A1%EC%95%84-%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4%EB%A9%B4" aria-hidden="true"><span class="icon icon-link"></span></a>배포할 때마다 도메인을 다시 잡아 줘야 한다면</h2>
<h3 id="문제점"><a href="#%EB%AC%B8%EC%A0%9C%EC%A0%90" aria-hidden="true"><span class="icon icon-link"></span></a>문제점</h3>
<p>초반, GitHub Pages에서 <code>.io</code> 도메인을 사용한 페이지 작업을 완료했는데도 불구하고 배포를 한 뒤에 접속해 보면 매번 이렇게 404가 떴습니다. Setting에 들어가서 Custom domain을 잡아주면 문제는 해결되긴 했지만 근본적인 문제점은 모르는 상태였습니다.</p>
<p><img src="https://live.staticflickr.com/65535/49417616392_69a710f745_c.jpg" alt="CNAME"></p>
<p>새롭게 배포 작업을 할 때마다 Custom domain에 도메인을 입력해야 하는 문제점은 이 작업 자체가 은근히 귀찮다 보니 조금씩 이런저런 이유를 들면서 블로그 작성도 미루곤 했었습니다.</p>
<h3 id="cname으로-해결"><a href="#cname%EC%9C%BC%EB%A1%9C-%ED%95%B4%EA%B2%B0" aria-hidden="true"><span class="icon icon-link"></span></a>CNAME으로 해결</h3>
<p>이번에 Gridsome으로 변경하면서 다시 한번 GitHub Pages의 설정 관련 정보들을 취합해 보며 알게 된 부분이 CNAME이었습니다. 이전 방식인 CNAME의 설정 전에도 배포가 된 뒤에는 CNAME이 생성된 것을 확인할 수 있었는데요. GitHub Pages 측에서 Custom domain을 사용할 때 이 파일을 생성한다는 것을 모르고 있었던 거였습니다. 로컬 작업에서는 당연히 생기지 않는 파일이다 보니 배포 후에는 딱히 생성된 파일에 관심을 두지 않았던 것이 원인이었습니다.</p>
<p><img src="https://live.staticflickr.com/65535/49416927048_d1fddaf8d0_c.jpg" alt="CNAME"></p>
<p>일반적으로는 도메인 관리 쪽에서 도메인에 대한 <code>user.github.io</code>에 대해 CNAME을 설정하는 방식으로 잡고 있었습니다. 이것도 맞는 거지만 제가 진행한 방법은 단순히 배포한 뒤에 생성되는 CNAME 파일을 배포 전의 소스 파일 쪽에 받아 두고 그대로 배포를 진행하는 것이었습니다. 배포하면 배포되던 자리에 복사가 될 테니깐요.</p>
<p>제가 문제를 해결한 방법은 다음과 같습니다.</p>
<ol>
<li><code>github.io</code>에 배포 과정을 진행합니다.</li>
<li>Custom domain에 보유하고 있는 도메인을 입력 후 저장합니다.</li>
<li>배포된 파일리스트를 확인해서 CNAME 파일이 있는지 확인합니다.</li>
<li>해당 파일을 다운로드하거나 내용을 복사해 둡니다.</li>
<li>배포된 파일 구조에 배포되도록 CNAME 파일을 소스 측의 적정 위치에 저장합니다.</li>
<li>다시 배포 뒤 문제없이 잘 돌아가는지 확인합니다.</li>
</ol>
<h2 id="cname-설정"><a href="#cname-%EC%84%A4%EC%A0%95" aria-hidden="true"><span class="icon icon-link"></span></a>CNAME 설정</h2>
<p>일단 작업은 이전 단계에서 배포 시 생성된 파일을 소스파일 쪽에 두는 것으로 마무리가 되긴 했습니다.</p>
<p><mark>여기서부터는 작업 진행 중에 공식 가이드를 보고 알게 된 내용에 대한 기록 같은 성격이라서 그냥 넘기셔도 좋을 듯합니다.</mark></p>
<p><strong>GitHub Pages의 공식 가이드</strong>: <a href="https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site" target="_blank" rel="nofollow noopener noreferrer">https://help.github.com/en/github/working-with-github-pages/managing-a-custom-domain-for-your-github-pages-site</a></p>
<p>CNAME 설정 초반에 <code>www.domain.com</code> 식으로 도메인 관리 쪽에서 지정이 필요하다는 가이드를 보고 알게 된 내용입니다. 기본적으로 서브 도메인 쪽을 공란으로 두면 설정을 진행할 수 없기 때문이기도 하고 대표 도메인인 만큼 일반적인 <code>www</code>를 지정하는 방식을 기준으로 잡았습니다.</p>
<p><img src="https://live.staticflickr.com/65535/49417616427_c0ab050130.jpg" alt="CNAME"></p>
<p>전 지금까지 <code>www</code>를 제외한 도메인을 주로 사용하고 있었기 때문에 추가적으로 <code>www</code>를 붙인 CNAME을 생성해 두었습니다만 결과적으로 CNAME의 <code>www</code>의 유무는 크게 영향은 없는 것 같습니다. 시험 삼아 이전 방식의 배포 당시 CNAME 파일을 열어 보니 <code>www</code>가 빠져 있기에 딱히 문제는 없어 보였습니다.</p>
<p>이 설정 부분은 자세한 설명 등은 GitHub Pages의 공식 가이드 문서에서도 확인 가능하니 참고하시기 바랍니다.</p>
<p>간단히 요약하면 다음과 같습니다.</p>
<ol>
<li>도메인 CNAME 관리 창에서 설정을 마칩니다.</li>
<li>CNAME을 설정한 후에는 <code>dig</code> 명령어로 도메인과 제대로 연결이 되어 있는지 확인 작업을 진행합니다.</li>
<li>GitHub Pages의 설정 화면의 Custom domain에 원하는 도메인을 지정합니다.</li>
</ol>
<pre><code>dig www.example.com +nostats +nocomments +nocmd
</code></pre>
<p>상기 명령을 통해 CNAME과 GitHub Domain IP가 제대로 연결이 되어 있는지를 확인합니다.</p>
<pre><code>; &#x3C;&#x3C;>> DiG 9.10.6 &#x3C;&#x3C;>> WWW.EXAMPLE.COM +nostats +nocomments +nocmd
;; global options: +cmd
;WWW.EXAMPLE.COM.           IN  A
WWW.EXAMPLE.COM.        7200    IN  CNAME   example.github.io.
example.github.io.  3600    IN  A   185.199.110.153
example.github.io.  3600    IN  A   185.199.111.153
example.github.io.  3600    IN  A   185.199.109.153
example.github.io.  3600    IN  A   185.199.108.153
</code></pre>
<p>제대로 GitHub와 연결된 것을 확인할 수 있다면 성공입니다.
새롭게 연결을 시켜 주었을 경우 HTTPS설정이 적용되려면 시간이 좀 걸리는 편이니 몇 시간 뒤에 다시 재접속을 해보시면 됩니다. 보통 몇 시간 내로 가능하긴 한데요 최대 하루 정도는 생각하시는 게 맘 편하실 겁니다.</p>
</section></div><ins data-ad-client="ca-pub-6250165231176696" data-ad-slot="5559070679" data-ad-format="auto" class="adsbygoogle mb-5" style="display:block !important;"></ins></div><div class="post-comment"><div id="disqus_thread"></div></div></main><footer class="footer"><p>
    Build with <a href="https://gridsome.org/" target="_blank">Gridsome</a> &amp; Made by minamiland.
  </p><p><a href="/sitemap.xml">Sitemap</a> | <a href="/feed.xml">RSS</a> | <a href="/about/">About</a> | <a href="/archives/">Archives</a></p></footer></div></div>
    <script>window.__INITIAL_STATE__={"data":{"post":{"id":"ab5c430a1ae3531903ece31527288e1c","title":"CNAME을 활용해서 GitHub Pages에 커스텀 도메인 고정 시키기","content":"\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Flive.staticflickr.com\u002F65535\u002F49421742256_d2f522cfd7_c.jpg\" alt=\"GitHub Pages + Custom Domain\"\u003E\u003C\u002Fp\u003E\n\u003Ch2 id=\"배포할-때마다-도메인을-다시-잡아-줘야-한다면\"\u003E\u003Ca href=\"#%EB%B0%B0%ED%8F%AC%ED%95%A0-%EB%95%8C%EB%A7%88%EB%8B%A4-%EB%8F%84%EB%A9%94%EC%9D%B8%EC%9D%84-%EB%8B%A4%EC%8B%9C-%EC%9E%A1%EC%95%84-%EC%A4%98%EC%95%BC-%ED%95%9C%EB%8B%A4%EB%A9%B4\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E배포할 때마다 도메인을 다시 잡아 줘야 한다면\u003C\u002Fh2\u003E\n\u003Ch3 id=\"문제점\"\u003E\u003Ca href=\"#%EB%AC%B8%EC%A0%9C%EC%A0%90\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003E문제점\u003C\u002Fh3\u003E\n\u003Cp\u003E초반, GitHub Pages에서 \u003Ccode\u003E.io\u003C\u002Fcode\u003E 도메인을 사용한 페이지 작업을 완료했는데도 불구하고 배포를 한 뒤에 접속해 보면 매번 이렇게 404가 떴습니다. Setting에 들어가서 Custom domain을 잡아주면 문제는 해결되긴 했지만 근본적인 문제점은 모르는 상태였습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Flive.staticflickr.com\u002F65535\u002F49417616392_69a710f745_c.jpg\" alt=\"CNAME\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E새롭게 배포 작업을 할 때마다 Custom domain에 도메인을 입력해야 하는 문제점은 이 작업 자체가 은근히 귀찮다 보니 조금씩 이런저런 이유를 들면서 블로그 작성도 미루곤 했었습니다.\u003C\u002Fp\u003E\n\u003Ch3 id=\"cname으로-해결\"\u003E\u003Ca href=\"#cname%EC%9C%BC%EB%A1%9C-%ED%95%B4%EA%B2%B0\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECNAME으로 해결\u003C\u002Fh3\u003E\n\u003Cp\u003E이번에 Gridsome으로 변경하면서 다시 한번 GitHub Pages의 설정 관련 정보들을 취합해 보며 알게 된 부분이 CNAME이었습니다. 이전 방식인 CNAME의 설정 전에도 배포가 된 뒤에는 CNAME이 생성된 것을 확인할 수 있었는데요. GitHub Pages 측에서 Custom domain을 사용할 때 이 파일을 생성한다는 것을 모르고 있었던 거였습니다. 로컬 작업에서는 당연히 생기지 않는 파일이다 보니 배포 후에는 딱히 생성된 파일에 관심을 두지 않았던 것이 원인이었습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Flive.staticflickr.com\u002F65535\u002F49416927048_d1fddaf8d0_c.jpg\" alt=\"CNAME\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E일반적으로는 도메인 관리 쪽에서 도메인에 대한 \u003Ccode\u003Euser.github.io\u003C\u002Fcode\u003E에 대해 CNAME을 설정하는 방식으로 잡고 있었습니다. 이것도 맞는 거지만 제가 진행한 방법은 단순히 배포한 뒤에 생성되는 CNAME 파일을 배포 전의 소스 파일 쪽에 받아 두고 그대로 배포를 진행하는 것이었습니다. 배포하면 배포되던 자리에 복사가 될 테니깐요.\u003C\u002Fp\u003E\n\u003Cp\u003E제가 문제를 해결한 방법은 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E\u003Ccode\u003Egithub.io\u003C\u002Fcode\u003E에 배포 과정을 진행합니다.\u003C\u002Fli\u003E\n\u003Cli\u003ECustom domain에 보유하고 있는 도메인을 입력 후 저장합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E배포된 파일리스트를 확인해서 CNAME 파일이 있는지 확인합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E해당 파일을 다운로드하거나 내용을 복사해 둡니다.\u003C\u002Fli\u003E\n\u003Cli\u003E배포된 파일 구조에 배포되도록 CNAME 파일을 소스 측의 적정 위치에 저장합니다.\u003C\u002Fli\u003E\n\u003Cli\u003E다시 배포 뒤 문제없이 잘 돌아가는지 확인합니다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Ch2 id=\"cname-설정\"\u003E\u003Ca href=\"#cname-%EC%84%A4%EC%A0%95\" aria-hidden=\"true\"\u003E\u003Cspan class=\"icon icon-link\"\u003E\u003C\u002Fspan\u003E\u003C\u002Fa\u003ECNAME 설정\u003C\u002Fh2\u003E\n\u003Cp\u003E일단 작업은 이전 단계에서 배포 시 생성된 파일을 소스파일 쪽에 두는 것으로 마무리가 되긴 했습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cmark\u003E여기서부터는 작업 진행 중에 공식 가이드를 보고 알게 된 내용에 대한 기록 같은 성격이라서 그냥 넘기셔도 좋을 듯합니다.\u003C\u002Fmark\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cstrong\u003EGitHub Pages의 공식 가이드\u003C\u002Fstrong\u003E: \u003Ca href=\"https:\u002F\u002Fhelp.github.com\u002Fen\u002Fgithub\u002Fworking-with-github-pages\u002Fmanaging-a-custom-domain-for-your-github-pages-site\" target=\"_blank\" rel=\"nofollow noopener noreferrer\"\u003Ehttps:\u002F\u002Fhelp.github.com\u002Fen\u002Fgithub\u002Fworking-with-github-pages\u002Fmanaging-a-custom-domain-for-your-github-pages-site\u003C\u002Fa\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ECNAME 설정 초반에 \u003Ccode\u003Ewww.domain.com\u003C\u002Fcode\u003E 식으로 도메인 관리 쪽에서 지정이 필요하다는 가이드를 보고 알게 된 내용입니다. 기본적으로 서브 도메인 쪽을 공란으로 두면 설정을 진행할 수 없기 때문이기도 하고 대표 도메인인 만큼 일반적인 \u003Ccode\u003Ewww\u003C\u002Fcode\u003E를 지정하는 방식을 기준으로 잡았습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Flive.staticflickr.com\u002F65535\u002F49417616427_c0ab050130.jpg\" alt=\"CNAME\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E전 지금까지 \u003Ccode\u003Ewww\u003C\u002Fcode\u003E를 제외한 도메인을 주로 사용하고 있었기 때문에 추가적으로 \u003Ccode\u003Ewww\u003C\u002Fcode\u003E를 붙인 CNAME을 생성해 두었습니다만 결과적으로 CNAME의 \u003Ccode\u003Ewww\u003C\u002Fcode\u003E의 유무는 크게 영향은 없는 것 같습니다. 시험 삼아 이전 방식의 배포 당시 CNAME 파일을 열어 보니 \u003Ccode\u003Ewww\u003C\u002Fcode\u003E가 빠져 있기에 딱히 문제는 없어 보였습니다.\u003C\u002Fp\u003E\n\u003Cp\u003E이 설정 부분은 자세한 설명 등은 GitHub Pages의 공식 가이드 문서에서도 확인 가능하니 참고하시기 바랍니다.\u003C\u002Fp\u003E\n\u003Cp\u003E간단히 요약하면 다음과 같습니다.\u003C\u002Fp\u003E\n\u003Col\u003E\n\u003Cli\u003E도메인 CNAME 관리 창에서 설정을 마칩니다.\u003C\u002Fli\u003E\n\u003Cli\u003ECNAME을 설정한 후에는 \u003Ccode\u003Edig\u003C\u002Fcode\u003E 명령어로 도메인과 제대로 연결이 되어 있는지 확인 작업을 진행합니다.\u003C\u002Fli\u003E\n\u003Cli\u003EGitHub Pages의 설정 화면의 Custom domain에 원하는 도메인을 지정합니다.\u003C\u002Fli\u003E\n\u003C\u002Fol\u003E\n\u003Cpre\u003E\u003Ccode\u003Edig www.example.com +nostats +nocomments +nocmd\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E상기 명령을 통해 CNAME과 GitHub Domain IP가 제대로 연결이 되어 있는지를 확인합니다.\u003C\u002Fp\u003E\n\u003Cpre\u003E\u003Ccode\u003E; &#x3C;&#x3C;\u003E\u003E DiG 9.10.6 &#x3C;&#x3C;\u003E\u003E WWW.EXAMPLE.COM +nostats +nocomments +nocmd\n;; global options: +cmd\n;WWW.EXAMPLE.COM.           IN  A\nWWW.EXAMPLE.COM.        7200    IN  CNAME   example.github.io.\nexample.github.io.  3600    IN  A   185.199.110.153\nexample.github.io.  3600    IN  A   185.199.111.153\nexample.github.io.  3600    IN  A   185.199.109.153\nexample.github.io.  3600    IN  A   185.199.108.153\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\n\u003Cp\u003E제대로 GitHub와 연결된 것을 확인할 수 있다면 성공입니다.\n새롭게 연결을 시켜 주었을 경우 HTTPS설정이 적용되려면 시간이 좀 걸리는 편이니 몇 시간 뒤에 다시 재접속을 해보시면 됩니다. 보통 몇 시간 내로 가능하긴 한데요 최대 하루 정도는 생각하시는 게 맘 편하실 겁니다.\u003C\u002Fp\u003E\n","date":"2020\u002F01\u002F21","timeToRead":2}},"context":{}};(function(){var s;(s=document.currentScript||document.scripts[document.scripts.length-1]).parentNode.removeChild(s);}());</script><script src="/assets/js/app.356e4b7f.js" defer></script><script src="/assets/js/page--src--templates--post-vue.a07dc05b.js" defer></script>
  </body>
</html>
